#:set default_font_size "42sp"
#:set heading_font_size "60sp"
#:set text_color 0.15,0.45,0.73,1
#:set app.buttonBackgroundColor 0.15,0.45,0.73,1
#:set app.buttonTextColor 1,1,1,1
#:set background_color 1,1,1,1
#:set error_color 1,0,0,1

<ProgramSelectionHigh>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: 1,1,1,1
  BoxLayout:
    size: root.width, root.height
    orientation: 'vertical'
    id: selectionLayout
    RelativeLayout:  # Use RelativeLayout to position elements freely
      Image:
        source: 'logo.png'
        size: self.texture_size
        size_hint_y: 2.8
        pos_hint: {'center_x': 0.5, 'top': 1.4}  # Center horizontally, top of parent
      # Conditional label
      Label:
        id: test_label
        text: "TEST"
        font_size: '20sp'
        color: 1, 0, 0, 1  # Red color
        size_hint: None, None
        size: self.texture_size
        pos_hint: {'x': 0, 'top': 1.0}  # Position top-left corner
        opacity: 1 if app.TEST_MODE else 0  # Conditional visibility

<ProgramSelection>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    size: root.width, root.height
    orientation: 'vertical'
    id: selectionLayout
    RelativeLayout:  # Use RelativeLayout to position elements freely
      Image:
        source: 'logo.png'
        size: self.texture_size
        size_hint_y: 2.8
        pos_hint: {'center_x': 0.5, 'top': 1.4}  # Center horizontally, top of parent
      # Conditional label
      Label:
        id: test_label
        text: "TEST"
        font_size: '20sp'
        color: 1, 0, 0, 1  # Red color
        size_hint: None, None
        size: self.texture_size
        pos_hint: {'x': 0, 'top': 1.0}  # Position top-left corner
        opacity: 1 if app.TEST_MODE else 0  # Conditional visibility
    Label:
      text: " "
      font_size: heading_font_size
      color: text_color 
        
<PaymentMethod>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    size: root.width, root.height
    orientation: 'vertical'
    Image:
      source: 'logo.png'
      size: self.texture_size
      size_hint_y: 2.5
    Label:
      text: "Kies betaalmethode"
      font_size: heading_font_size
      color: text_color
    Button:
      text: "PIN"
      background_color : app.buttonBackgroundColor
      font_size: default_font_size
      color: app.buttonTextColor
      on_release:
        root.selectPin()
    Button:
      text: "Waspas"
      background_color : app.buttonBackgroundColor
      font_size: default_font_size
      color: app.buttonTextColor
      on_release:
        root.selectWashcard()
    Button:
      text: "Annuleren"
      background_color : app.buttonBackgroundColor
      font_size: default_font_size
      color: app.buttonTextColor
      on_release:
        root.cancel()        
<Payment>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    size: root.width, root.height
    orientation: 'vertical'
    Image:
      source: 'logo.png'
      size: self.texture_size
      size_hint_y: 1.5
    Label:
      text: "Voltooi betaling\nop PIN terminal"
      font_size: heading_font_size
      color: text_color

<PaymentWashcard>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    size: root.width, root.height
    orientation: 'vertical'
    Image:
      source: 'logo.png'
      size: self.texture_size
      size_hint_y: 1.5
    Label:
      text: "Houd waspas voor\nde lezer"
      font_size: heading_font_size
      color: text_color
      
<UpgradeWashcardReadCard>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    size: root.width, root.height
    orientation: 'vertical'
    Image:
      source: 'logo.png'
      size: self.texture_size
      size_hint_y: 1.5
    Label:
      text: "Houd de waspas\nvoor de lezer"
      font_size: heading_font_size
      color: text_color

<UpgradeWashcardChooseAmount>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    size: root.width, root.height
    orientation: 'vertical'
    Label:
      text: "Tegoed op waspas:"
      halign: 'left'
      text_size: self.size
      font_size: heading_font_size
      color: text_color
    Label:
      id: lbl_balance
      halign: 'left'
      text_size: self.size
      text: '----'
      font_size: heading_font_size
      color: text_color
    Label:
      text: "Wasstraat info"
      halign: 'left'
      text_size: self.size
      font_size: heading_font_size
      color: text_color
    Label:
      id: lbl_carwash
      halign: 'left'
      text_size: self.size
      text: "----"
      font_size: default_font_size
      color: text_color
    Label:
      text: "Bedrijfsinfo"
      halign: 'left'
      text_size: self.size
      font_size: heading_font_size
      color: text_color
    Label:
      id: lbl_company
      halign: 'left'
      text_size: self.size
      text: "----"
      font_size: default_font_size
      color: text_color  
    Label:
      text: "Kies bedrag"
      font_size: heading_font_size
      color: text_color
    BoxLayout:
      size: root.width, root.height
      orientation: 'horizontal'
      Button:
        text: "€ 20,00"
        background_color : app.buttonBackgroundColor
        font_size: default_font_size
        color: app.buttonTextColor
        on_release:
          root.chooseAmount(20)
      Button:
        text: "€ 50,00"
        background_color : app.buttonBackgroundColor
        font_size: default_font_size
        color: app.buttonTextColor
        on_release:
          root.chooseAmount(50)
    BoxLayout:
      size: root.width, root.height
      orientation: 'horizontal'
      Button:
        text: "€ 100,00"
        background_color : app.buttonBackgroundColor
        font_size: default_font_size
        color: app.buttonTextColor
        on_release:
          root.chooseAmount(100)
      Button:
        text: "€ 200,00"
        background_color : app.buttonBackgroundColor
        font_size: default_font_size
        color: app.buttonTextColor
        on_release:
          root.chooseAmount(200)
    Button:
      text: "Annuleren"
      background_color : app.buttonBackgroundColor
      font_size: default_font_size
      color: app.buttonTextColor
      on_release:
        root.cancel()

<UpgradeWashcardPayment>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    size: root.width, root.height
    orientation: 'vertical'
    Image:
      source: 'logo.png'
      size: self.texture_size
      size_hint_y: 1.5
    Label:
      text: "Voltooi betaling\nop PIN terminal"
      font_size: heading_font_size
      color: text_color

<UpgradeWashcardPaymentFailed>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    orientation: 'vertical'
    Image:
      source: 'error.png'
      size: self.texture_size
    Label:
      text: "Betaling niet gelukt!"
      font_size: heading_font_size
      color: error_color
      
<UpgradeWashcardPaymentSuccess>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    orientation: 'vertical'
    Image:
      source: 'success.png'
      size: self.texture_size
    Label:
      text: "Opwaarderen gelukt!"
      font_size: heading_font_size
      color: text_color
    Label:
      text: "Terug naar programmaselectie"
      font_size: default_font_size
      color: text_color
      
<PaymentWashcardCardNotValid>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    orientation: 'vertical'
    Image:
      source: 'error.png'
      size: self.texture_size
    Label:
      text: "Waspas niet geldig"
      font_size: heading_font_size
      color: error_color

<UpgradeWashcardCredit>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    orientation: 'vertical'
    Image:
      source: 'error.png'
      size: self.texture_size
    Label:
      text: "Credit waspassen kun\nje niet opwaarderen"
      font_size: heading_font_size
      color: error_color
      
<PaymentWashcardWrongCarwash>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    orientation: 'vertical'
    Image:
      source: 'error.png'
      size: self.texture_size
    Label:
      text: "Waspas alleen geldig bij:"
      font_size: heading_font_size
      color: error_color
    Label:
      id: lbl_carwash
      text: "----"
      font_size: heading_font_size
      color: text_color

<PaymentWashcardCardNotFound>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    orientation: 'vertical'
    Image:
      source: 'error.png'
      size: self.texture_size
    Label:
      text: "Geen waspas gevonden"
      font_size: heading_font_size
      color: error_color

<PaymentWashcardInsufficientBalance>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    orientation: 'vertical'
    Image:
      source: 'error.png'
      size: self.texture_size
    Label:
      text: "Onvoldoende saldo"
      font_size: heading_font_size
      color: error_color
    Label:
      id: lbl_balance
      text: "---"
      font_size: heading_font_size
      color: error_color

<PaymentFailed>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    orientation: 'vertical'
    Image:
      source: 'error.png'
      size: self.texture_size
    Label:
      text: "Betaling niet gelukt!"
      font_size: heading_font_size
      color: error_color
      
<PaymentSuccess>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    orientation: 'vertical'
    Image:
      source: 'success.png'
      size: self.texture_size
    Label:
      text: "Betaling gelukt!"
      font_size: heading_font_size
      color: text_color
    Label:
      text: "Machine wordt gestart"
      font_size: default_font_size
      color: text_color
    Label:
      id: lbl_balance_text
      text: ""
      font_size: heading_font_size
      color: text_color
    Label:
      id: lbl_balance
      text: ""
      font_size: heading_font_size
      color: text_color

<InProgress>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: background_color
  BoxLayout:
    size: root.width, root.height
    orientation: 'vertical'
    Image:
      source: 'logo.png'
      size: self.texture_size
      size_hint_y: 1.5
    Image:
      source: 'progress.gif'
      size: self.texture_size
      size_hint_y: 1.5
    Label:
      text: "Bezig met wassen"
      font_size: heading_font_size
      color: text_color

<Error>:
  canvas.before:
    Rectangle:
      pos: self.pos
      size: self.size
    Color:
      rgba: (1,0,0,1)
  BoxLayout:
    size: root.width, root.height
    orientation: 'vertical'
    Image:
      source: 'error.png'
      size: self.texture_size
    Label:
      text: "Storing"
      font_size: heading_font_size
      color: error_color
    Label:
      text: "Er is een storing opgetreden"
      font_size: default_font_size
      color: error_color
    Label:
      text: "Neem contact op met:"
      font_size: default_font_size
      color: error_color
    Label:
      text: app.supportPhone
      font_size: heading_font_size
      color: error_color